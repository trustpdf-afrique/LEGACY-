<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Bloc Notes Historique - Zakaria TV</title>

<style>
:root {
  --color-nord:#ffe0b2;
  --color-ouest:#c8e6c9;
  --color-centrale:#bbdefb;
  --color-est:#e1bee7;
  --color-sud:#ffccbc;
  --color-femmes:#fff9c4;
  --color-royaumes:#d7ccc8;
  --color-revolutions:#ffcdd2;
  --color-decolonisation:#cfd8dc;
  --color-esclavage:#b0bec5;
  
  --bg-light:#f4f6f8;
  --bg-dark:#1c1c1c;
  --text-light:#111;
  --text-dark:#f0f0f0;
}

body {
  height:100%;
  margin:0;
  font-family:Arial, sans-serif;
  background: var(--bg-light);
  color: var(--text-light);
  touch-action: manipulation;
  overscroll-behavior: none;
  transition: background 0.3s, color 0.3s;
}

body.dark-mode {
  background: var(--bg-dark);
  color: var(--text-dark);
}

header {
  background:#111;
  color:white;
  text-align:center;
  padding:15px;
}

.container {
  padding:12px;
}

.region {
  margin-bottom:18px;
  padding:15px;
  border-radius:14px;
}

.country {
  background:white;
  padding:12px;
  margin:7px 0;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
  transition: background 0.2s;
}
.country:hover {
  background:#e0e0e0;
}

/* couleurs par rÃ©gion */
.nord{background:var(--color-nord);}
.ouest{background:var(--color-ouest);}
.centrale{background:var(--color-centrale);}
.est{background:var(--color-est);}
.sud{background:var(--color-sud);}
.hist1{background:var(--color-femmes);}
.hist2{background:var(--color-royaumes);}
.hist3{background:var(--color-revolutions);}
.hist4{background:var(--color-decolonisation);}
.hist5{background:var(--color-esclavage);}

/* PAGE SÃ‰RIES */
#pageSeries {
  display:none;
  flex-direction:column;
  padding:20px;
  height: calc(100vh - 70px);
}

#seriesTitle {
  text-align:center;
  font-size:28px;
  margin-bottom:20px;
}

/* BOUTONS SERIES COLORÃ‰S ET ANIMÃ‰S */
.series-btn {
  font-size:26px;
  font-weight:bold;
  border:none;
  border-radius:14px;
  padding:20px;
  margin:10px 0;
  cursor:pointer;
  color:white;
  transition: transform 0.2s, box-shadow 0.2s;
}
.series-btn:nth-child(1){background:#f44336;}  /* rouge */
.series-btn:nth-child(2){background:#e91e63;}  /* rose */
.series-btn:nth-child(3){background:#9c27b0;}  /* violet */
.series-btn:nth-child(4){background:#3f51b5;}  /* bleu foncÃ© */
.series-btn:nth-child(5){background:#03a9f4;}  /* bleu clair */
.series-btn:nth-child(6){background:#009688;}  /* vert bleu */
.series-btn:nth-child(7){background:#4caf50;}  /* vert */
.series-btn:nth-child(8){background:#ff9800;}  /* orange */
.series-btn:nth-child(9){background:#795548;}  /* marron */
.series-btn:nth-child(10){background:#607d8b;} /* gris bleu */
.series-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

/* PAGE NOTES */
#pageCountry {
  display:none;
  height: calc(100vh - 70px);
  display:flex;
  flex-direction: column;
}

#pageCountry h2 {
  text-align:center;
  margin:5px 0 10px 0;
}

textarea {
  flex:1;
  width:100%;
  border-radius:14px;
  border:none;
  padding:16px;
  font-size:17px;
  line-height:1.6;
  resize:none;
  outline:none;
  box-shadow:0 0 10px rgba(0,0,0,0.08);
  overflow-y:scroll;
  scroll-behavior:smooth;
  transition: background 0.3s, color 0.3s;
}

body.dark-mode textarea {
  background:#333;
  color:#f0f0f0;
}

button {
  margin-top:10px;
  width:100%;
  padding:14px;
  font-size:17px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  transition: background 0.3s, color 0.3s;
}

.back {background:#000; color:white;}
.toggle-theme {background:#555; color:white; margin-bottom:10px;}
#search {padding:10px; width:100%; margin-bottom:10px; border-radius:10px; border:1px solid #aaa;}
</style>
</head>

<body>

<header>
  <h1>ğŸ““ Bloc Notes Historique</h1>
  <p>Zakaria TV ğŸ¥ğŸŒ</p>
</header>

<!-- PAGE PRINCIPALE -->
<div class="container" id="home">

<input type="text" id="search" placeholder="ğŸ” Rechercher un pays ou thÃ¨me" oninput="filterItems()">
<button class="toggle-theme" onclick="toggleTheme()">ğŸŒ™ Mode Sombre / Clair</button>

<!-- AFRIQUE DU NORD -->
<div class="region nord">
<h2>ğŸŒ Afrique du Nord</h2>
<div class="country">AlgÃ©rie</div>
<div class="country">Ã‰gypte</div>
<div class="country">Libye</div>
<div class="country">Maroc</div>
<div class="country">Mauritanie</div>
<div class="country">Soudan</div>
<div class="country">Tunisie</div>
</div>

<!-- AFRIQUE DE Lâ€™OUEST -->
<div class="region ouest">
<h2>ğŸŒ Afrique de lâ€™Ouest</h2>
<div class="country">BÃ©nin</div>
<div class="country">Burkina Faso</div>
<div class="country">Cap-Vert</div>
<div class="country">CÃ´te dâ€™Ivoire</div>
<div class="country">Gambie</div>
<div class="country">Ghana</div>
<div class="country">GuinÃ©e</div>
<div class="country">GuinÃ©e-Bissau</div>
<div class="country">Liberia</div>
<div class="country">Mali</div>
<div class="country">Niger</div>
<div class="country">Nigeria</div>
<div class="country">SÃ©nÃ©gal</div>
<div class="country">Sierra Leone</div>
<div class="country">Togo</div>
</div>

<!-- AFRIQUE CENTRALE -->
<div class="region centrale">
<h2>ğŸŒ Afrique centrale</h2>
<div class="country">Cameroun</div>
<div class="country">Gabon</div>
<div class="country">RÃ©publique centrafricaine</div>
<div class="country">RDC</div>
<div class="country">RÃ©publique du Congo</div>
<div class="country">Tchad</div>
</div>

<!-- AFRIQUE DE Lâ€™EST -->
<div class="region est">
<h2>ğŸŒ Afrique de lâ€™Est</h2>
<div class="country">Burundi</div>
<div class="country">Djibouti</div>
<div class="country">Ã‰rythrÃ©e</div>
<div class="country">Ã‰thiopie</div>
<div class="country">Ouganda</div>
<div class="country">Rwanda</div>
<div class="country">Somalie</div>
<div class="country">Soudan du Sud</div>
<div class="country">Tanzanie</div>
</div>

<!-- AFRIQUE AUSTRALE -->
<div class="region sud">
<h2>ğŸŒ Afrique australe</h2>
<div class="country">Afrique du Sud</div>
<div class="country">Angola</div>
<div class="country">Comores</div>
<div class="country">Madagascar</div>
<div class="country">Maurice</div>
<div class="country">Mozambique</div>
<div class="country">Namibie</div>
<div class="country">Eswatini</div>
<div class="country">Zambie</div>
<div class="country">Zimbabwe</div>
</div>

<!-- THÃˆMES HISTORIQUES -->
<div class="region hist1"><h2>ğŸ‘©ğŸ¾â€ğŸ¦± Les Femmes</h2><div class="country">Femmes africaines</div></div>
<div class="region hist2"><h2>ğŸ° Royaumes et Empires africains</h2><div class="country">Royaumes & Empires</div></div>
<div class="region hist3"><h2>ğŸ”¥ Les RÃ©volutions</h2><div class="country">RÃ©volutions africaines</div></div>
<div class="region hist4"><h2>ğŸ•Šï¸ La DÃ©colonisation</h2><div class="country">DÃ©colonisation</div></div>
<div class="region hist5"><h2>â›“ï¸ Lâ€™esclavage</h2><div class="country">Esclavage</div></div>

</div>

<!-- PAGE SÃ‰RIES -->
<div class="container" id="pageSeries">
<h2 id="seriesTitle"></h2>
<div id="seriesButtons"></div>
<button class="back" onclick="backToHome()">â¬… Retour</button>
</div>

<!-- PAGE NOTES -->
<div class="container" id="pageCountry">
<h2 id="title"></h2>
<button id="saveBtn" style="
  background:#2196F3; 
  color:white; 
  border:none; 
  border-radius:10px; 
  padding:10px 15px; 
  margin-bottom:10px; 
  cursor:pointer;
  font-weight:bold;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  transition: background 0.3s;
">
  <span id="saveIcon">ğŸ’¾</span> <span id="saveText">ENREGISTRER</span>
</button>
<textarea id="notes" placeholder="âœï¸ Ã‰cris ici ton histoireâ€¦ scroll fluide, joli, mode sombre disponible"></textarea>
<button class="back" onclick="backToSeries()">â¬… Retour</button>
</div>

<script>
let lastTouchEnd = 0;
document.addEventListener('touchend', function(event){
  let now = Date.now();
  if(now - lastTouchEnd <= 300) event.preventDefault();
  lastTouchEnd = now;
}, false);

let currentKey = "";
let currentCountry = "";

// ouverture page sÃ©rie
document.querySelectorAll('.country').forEach(item=>{
  item.addEventListener('click', ()=>{
    currentCountry = item.innerText;
    document.getElementById('home').style.display='none';
    document.getElementById('pageSeries').style.display='flex';
    document.getElementById('seriesTitle').innerText = "ğŸ“‚ " + currentCountry;

    let container = document.getElementById('seriesButtons');
    container.innerHTML = "";
    for(let i=1;i<=10;i++){
      let btn = document.createElement('button');
      btn.className = "series-btn";
      btn.innerText = "SÃ‰RIE " + i;
      btn.addEventListener('click', ()=>{
        openSeries(i);
      });
      container.appendChild(btn);
    }
  });
});

// ouvrir page note pour sÃ©rie
function openSeries(n){
  document.getElementById('pageSeries').style.display='none';
  document.getElementById('pageCountry').style.display='flex';
  document.getElementById('title').innerText = "ğŸ“œ " + currentCountry + " - SÃ‰RIE " + n;
  currentKey = "zakaria_tv_" + currentCountry + "_serie" + n;

  let savedNote = localStorage.getItem(currentKey);
  document.getElementById('notes').value = savedNote || "";
}

// bouton ENREGISTRER animÃ©
document.getElementById('saveBtn').addEventListener('click', function(){
  localStorage.setItem(currentKey, document.getElementById('notes').value);

  let saveBtn = document.getElementById('saveBtn');
  let saveIcon = document.getElementById('saveIcon');
  let saveText = document.getElementById('saveText');

  saveIcon.textContent = 'âœ…';
  saveText.textContent = 'ENREGISTRÃ‰ !';
  saveBtn.style.background = '#4CAF50';

  setTimeout(()=>{
    saveIcon.textContent = 'ğŸ’¾';
    saveText.textContent = 'ENREGISTRER';
    saveBtn.style.background = '#2196F3';
  }, 2000);
});

function backToHome(){
  document.getElementById('pageSeries').style.display='none';
  document.getElementById('home').style.display='block';
}

function backToSeries(){
  document.getElementById('pageCountry').style.display='none';
  document.getElementById('pageSeries').style.display='flex';
}

// Mode sombre
function toggleTheme(){
  document.body.classList.toggle('dark-mode');
}

// Recherche instantanÃ©e
function filterItems(){
  let filter = document.getElementById('search').value.toLowerCase();
  document.querySelectorAll('.country').forEach(item=>{
    if(item.innerText.toLowerCase().includes(filter)){
      item.style.display='block';
    }else{
      item.style.display='none';
    }
  });
}
</script>

</body>
  </html>
